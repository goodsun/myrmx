# siegeNgin

Hardhat Browser Deploy Tool
ブラウザ上でMetaMaskを使ってHardhatプロジェクトのスマートコントラクトをデプロイできるツールです。コマンドラインを使わずに、GUIで簡単にコントラクトのデプロイとインタラクションが可能です。

## 特徴

- 🚀 **ブラウザベースのUI** - コマンドライン不要
- 🦊 **MetaMask統合** - ウォレット接続でセキュアにデプロイ
- 📁 **マルチプロジェクト対応** - 複数のHardhatプロジェクトを管理
- 📋 **ABI出力** - デプロイ後すぐにABIをコピー/ダウンロード
- ⛽ **ガス見積もり** - デプロイ前に料金を確認
- 🔒 **セキュリティ強化** - パストラバーサル対策、ネットワーク検証
- 🧹 **プロジェクト管理** - 自動依存関係インストール、クリーンアップ機能
- 🎯 **スマートバリデーション** - コンストラクタ引数の型別検証

## 名前の由来 🏰

**siegeNgin** = **siege（包囲攻撃）** + **Engine（エンジン）**

Hardhat開発環境は、その複雑さから初心者にとってまるで難攻不落の「要塞」のようです。
コマンドライン、設定ファイル、デプロイスクリプト...これらの壁を乗り越えるのは大変な作業です。

siegeNginは、この要塞を「攻略」するための強力な攻城兵器（エンジン）として開発されました。
ブラウザというシンプルなインターフェースを通じて、複雑な要塞の門を開き、
誰もが簡単にスマートコントラクトをデプロイできる世界を実現します。

Web3開発の参入障壁という「城壁」を打ち破り、より多くの開発者がブロックチェーンの世界に
参加できることを願って、このツールは作られました。

## 動作環境

### 必要なソフトウェア
- Node.js: v16以上（推奨: v18）
- npm: v8以上
- MetaMask: 最新版

### 対応ブラウザ
- Chrome 90+
- Firefox 88+
- Edge 90+
- Safari 14+（一部制限あり）

## クイックスタート

### 1. リポジトリのクローン

```bash
git clone https://github.com/yourusername/siegeNgin.git
cd siegeNgin
```

### 2. 依存関係のインストール

```bash
# ツール本体の依存関係
cd browser-deploy
npm install

# サンプルプロジェクトの依存関係（オプション）
# 注: コンパイル時に自動インストールされるため、手動実行は不要
cd ../projects/sample-project
npm install
```

### 3. サーバーの起動

```bash
# browser-deployディレクトリで実行
cd ../../browser-deploy
npm start
```

### 4. ブラウザでアクセス

ブラウザで http://localhost:3000 を開きます。

### 5. 使い方

1. **プロジェクト選択**: ドロップダウンから `sample-project` を選択
2. **MetaMask接続**: 「Connect MetaMask」ボタンをクリック
3. **コンパイル**: 「📁 Compile」ボタンでコントラクトをコンパイル
4. **コントラクト選択**: 表示されたコントラクトから1つを選択
5. **デプロイ**: 「🚀 Deploy Selected Contract」をクリック
6. **結果確認**: デプロイアドレスとABIが表示されます

## プロジェクト構成

```
siegeNgin/
├── browser-deploy/        # WebUIツール本体
│   ├── index.html        # メインUI
│   ├── js/app.js         # アプリケーションロジック
│   └── server.js         # Expressサーバー
├── projects/             # Hardhatプロジェクト群
│   └── sample-project/   # サンプルプロジェクト
│       ├── contracts/    # スマートコントラクト
│       ├── hardhat.config.js
│       └── package.json
└── docs/                 # ドキュメント
```

## 新しいプロジェクトの追加

1. `projects/` ディレクトリに新しいHardhatプロジェクトを作成
2. 必要な依存関係をインストール
3. ブラウザをリフレッシュすると自動的に認識されます

```bash
cd projects
mkdir my-new-project
cd my-new-project
npx hardhat init
```

## 主な機能

### プロジェクト管理
- **プロジェクトステータス表示**: 依存関係、ビルド状態、キャッシュ状況を一目で確認
- **クリーンアップ機能**: .gitignoreベースで不要ファイルを一括削除
- **自動依存関係インストール**: コンパイル時に自動でnpm install実行

### セキュリティ機能
- **ネットワーク検証**: メインネット接続時に警告表示
- **パストラバーサル対策**: プロジェクト名の厳格な検証
- **ガス見積もり**: デプロイ前に料金確認ダイアログ表示

### 開発者体験
- **型別入力フィールド**: address、uint、bool等に最適化された入力UI
- **リアルタイムバリデーション**: 入力値の即座検証
- **CORS対応**: 外部ツールとの連携可能

## 開発ロードマップ

- [x] 基本的なデプロイ機能
- [x] マルチプロジェクト対応
- [x] ABI出力機能
- [x] ガス見積もり表示
- [x] セキュリティ強化
- [x] プロジェクト管理機能
- [ ] コントラクトインタラクション機能
- [ ] デプロイ履歴
- [ ] Hardhatプラグイン化

## トラブルシューティング

### MetaMaskが接続できない
- MetaMaskがインストールされているか確認
- 正しいネットワークに接続しているか確認（デフォルトはlocalhost:8545）

### コンパイルエラー
- プロジェクトディレクトリで `npm install` を実行したか確認
- Solidityのバージョンが正しいか確認

### ポート3000が使用中
```bash
# 別のポートで起動
PORT=3001 npm start
```

### 環境変数の設定
`.env.example`を`.env`にコピーして、必要に応じて設定を変更してください。

## ドキュメント

- [アーキテクチャ設計](docs/ARCHITECTURE.md) - システム設計と設計思想
- [セットアップガイド](docs/SETUP.md) - 詳細なインストールと設定手順
- [APIリファレンス](docs/api-reference.md) - 開発者向けAPI仕様
- [セキュリティガイド](docs/security.md) - セキュリティ機能と推奨設定
- [変更履歴](docs/CHANGELOG.md) - バージョンごとの変更内容
- [今後の機能拡張予定](docs/future-enhancements.md)

## コントリビューション

プルリクエストは大歓迎です！

## ライセンス

MIT
