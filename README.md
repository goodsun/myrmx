# siegeNgin

Hardhat Browser Deploy Tool
ブラウザ上でMetaMaskを使ってHardhatプロジェクトのスマートコントラクトをデプロイできるツールです。コマンドラインを使わずに、GUIで簡単にコントラクトのデプロイとインタラクションが可能です。

## 特徴

- 🚀 **ブラウザベースのUI** - コマンドライン不要
- 🦊 **MetaMask統合** - ウォレット接続でセキュアにデプロイ
- 📁 **マルチプロジェクト対応** - 複数のHardhatプロジェクトを管理
- 📋 **ABI出力** - デプロイ後すぐにABIをコピー/ダウンロード
- ⛽ **ガス見積もり** - デプロイ前に料金を確認
- 🔒 **セキュリティ強化** - パストラバーサル対策、ネットワーク検証
- 🧹 **プロジェクト管理** - 自動依存関係インストール、クリーンアップ機能
- 🎯 **スマートバリデーション** - コンストラクタ引数の型別検証

## クイックスタート

### 1. リポジトリのクローン

```bash
git clone https://github.com/yourusername/myrmx.git
cd myrmx
```

### 2. 依存関係のインストール

```bash
# ツール本体の依存関係
cd browser-deploy
npm install

# サンプルプロジェクトの依存関係（オプション）
# 注: コンパイル時に自動インストールされるため、手動実行は不要
cd ../projects/sample-project
npm install
```

### 3. サーバーの起動

```bash
# browser-deployディレクトリで実行
cd ../../browser-deploy
npm start
```

### 4. ブラウザでアクセス

ブラウザで http://localhost:3000 を開きます。

### 5. 使い方

1. **プロジェクト選択**: ドロップダウンから `sample-project` を選択
2. **MetaMask接続**: 「Connect MetaMask」ボタンをクリック
3. **コンパイル**: 「📁 Compile」ボタンでコントラクトをコンパイル
4. **コントラクト選択**: 表示されたコントラクトから1つを選択
5. **デプロイ**: 「🚀 Deploy Selected Contract」をクリック
6. **結果確認**: デプロイアドレスとABIが表示されます

## プロジェクト構成

```
myrmx/
├── browser-deploy/        # WebUIツール本体
│   ├── index.html        # メインUI
│   ├── js/app.js         # アプリケーションロジック
│   └── server.js         # Expressサーバー
├── projects/             # Hardhatプロジェクト群
│   └── sample-project/   # サンプルプロジェクト
│       ├── contracts/    # スマートコントラクト
│       ├── hardhat.config.js
│       └── package.json
└── docs/                 # ドキュメント
```

## 新しいプロジェクトの追加

1. `projects/` ディレクトリに新しいHardhatプロジェクトを作成
2. 必要な依存関係をインストール
3. ブラウザをリフレッシュすると自動的に認識されます

```bash
cd projects
mkdir my-new-project
cd my-new-project
npx hardhat init
```

## 主な機能

### プロジェクト管理
- **プロジェクトステータス表示**: 依存関係、ビルド状態、キャッシュ状況を一目で確認
- **クリーンアップ機能**: .gitignoreベースで不要ファイルを一括削除
- **自動依存関係インストール**: コンパイル時に自動でnpm install実行

### セキュリティ機能
- **ネットワーク検証**: メインネット接続時に警告表示
- **パストラバーサル対策**: プロジェクト名の厳格な検証
- **ガス見積もり**: デプロイ前に料金確認ダイアログ表示

### 開発者体験
- **型別入力フィールド**: address、uint、bool等に最適化された入力UI
- **リアルタイムバリデーション**: 入力値の即座検証
- **CORS対応**: 外部ツールとの連携可能

## 開発ロードマップ

- [x] 基本的なデプロイ機能
- [x] マルチプロジェクト対応
- [x] ABI出力機能
- [x] ガス見積もり表示
- [x] セキュリティ強化
- [x] プロジェクト管理機能
- [ ] コントラクトインタラクション機能
- [ ] デプロイ履歴
- [ ] Hardhatプラグイン化

## トラブルシューティング

### MetaMaskが接続できない
- MetaMaskがインストールされているか確認
- 正しいネットワークに接続しているか確認（デフォルトはlocalhost:8545）

### コンパイルエラー
- プロジェクトディレクトリで `npm install` を実行したか確認
- Solidityのバージョンが正しいか確認

### ポート3000が使用中
```bash
# 別のポートで起動
PORT=3001 npm start
```

## コントリビューション

プルリクエストは大歓迎です！

## ライセンス

MIT
